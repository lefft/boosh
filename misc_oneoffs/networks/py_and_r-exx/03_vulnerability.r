aspl = mean_distance(g)
V(g)$vulnerability = NA
for (i in 1:vcount(g)) {
  g2 = delete_vertices(g, i)
  if (all(degree(g2) > 0)) { V(g)$vulnerability[i] = mean_distance(g2) - aspl }
}
# cities ranked by decreasing vulnerability
V(g)$name[ order(V(g)$vulnerability, decreasing = TRUE, na.last = NA) ]